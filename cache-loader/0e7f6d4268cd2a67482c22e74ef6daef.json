{"remainingRequest":"/Users/abc/Desktop/si/node_modules/thread-loader/dist/cjs.js??ref--4-2!/Users/abc/Desktop/si/node_modules/ts-loader/index.js??ref--4-3!/Users/abc/Desktop/si/node_modules/eslint-loader/dist/cjs.js!/Users/abc/Desktop/si/src/main/webapp/app/shared/reducers/authentication.ts","dependencies":[{"path":"/Users/abc/Desktop/si/src/main/webapp/app/shared/reducers/authentication.ts","mtime":1609353650000},{"path":"/Users/abc/Desktop/si/node_modules/react-hot-loader/webpack.js","mtime":499162500000},{"path":"/Users/abc/Desktop/si/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/abc/Desktop/si/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/abc/Desktop/si/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/abc/Desktop/si/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAncmVhY3QtamhpcHN0ZXInOwppbXBvcnQgeyBSRVFVRVNULCBTVUNDRVNTLCBGQUlMVVJFIH0gZnJvbSAnYXBwL3NoYXJlZC9yZWR1Y2Vycy9hY3Rpb24tdHlwZS51dGlsJzsKaW1wb3J0IHsgc2V0TG9jYWxlIH0gZnJvbSAnYXBwL3NoYXJlZC9yZWR1Y2Vycy9sb2NhbGUnOwppbXBvcnQgbWQ1IGZyb20gJ21kNSc7CmV4cG9ydCBjb25zdCBBQ1RJT05fVFlQRVMgPSB7CiAgICBMT0dJTjogJ2F1dGhlbnRpY2F0aW9uL0xPR0lOJywKICAgIEdFVF9TRVNTSU9OOiAnYXV0aGVudGljYXRpb24vR0VUX1NFU1NJT04nLAogICAgTE9HT1VUOiAnYXV0aGVudGljYXRpb24vTE9HT1VUJywKICAgIENMRUFSX0FVVEg6ICdhdXRoZW50aWNhdGlvbi9DTEVBUl9BVVRIJywKICAgIEVSUk9SX01FU1NBR0U6ICdhdXRoZW50aWNhdGlvbi9FUlJPUl9NRVNTQUdFJywKfTsKY29uc3QgQVVUSF9UT0tFTl9LRVkgPSAnamhpLWF1dGhlbnRpY2F0aW9uVG9rZW4nOwpjb25zdCBpbml0aWFsU3RhdGUgPSB7CiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UsCiAgICBsb2dpblN1Y2Nlc3M6IGZhbHNlLAogICAgbG9naW5FcnJvcjogZmFsc2UsCiAgICBzaG93TW9kYWxMb2dpbjogZmFsc2UsCiAgICBhY2NvdW50OiB7fSwKICAgIGVycm9yTWVzc2FnZTogbnVsbCwKICAgIHJlZGlyZWN0TWVzc2FnZTogbnVsbCwKICAgIHNlc3Npb25IYXNCZWVuRmV0Y2hlZDogZmFsc2UsCiAgICBpZFRva2VuOiBudWxsLAogICAgbG9nb3V0VXJsOiBudWxsLAp9OwovLyBSZWR1Y2VyCmV4cG9ydCBkZWZhdWx0IChzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7CiAgICAgICAgY2FzZSBSRVFVRVNUKEFDVElPTl9UWVBFUy5MT0dJTik6CiAgICAgICAgY2FzZSBSRVFVRVNUKEFDVElPTl9UWVBFUy5HRVRfU0VTU0lPTik6CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBsb2FkaW5nOiB0cnVlIH0pOwogICAgICAgIGNhc2UgRkFJTFVSRShBQ1RJT05fVFlQRVMuTE9HSU4pOgogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUpLCB7IGVycm9yTWVzc2FnZTogYWN0aW9uLnBheWxvYWQsIHNob3dNb2RhbExvZ2luOiB0cnVlLCBsb2dpbkVycm9yOiB0cnVlIH0pOwogICAgICAgIGNhc2UgRkFJTFVSRShBQ1RJT05fVFlQRVMuR0VUX1NFU1NJT04pOgogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgbG9hZGluZzogZmFsc2UsIGlzQXV0aGVudGljYXRlZDogZmFsc2UsIHNlc3Npb25IYXNCZWVuRmV0Y2hlZDogdHJ1ZSwgc2hvd01vZGFsTG9naW46IHRydWUsIGVycm9yTWVzc2FnZTogYWN0aW9uLnBheWxvYWQgfSk7CiAgICAgICAgY2FzZSBBQ1RJT05fVFlQRVMuTE9HSU46CiAgICAgICAgICAgIC8vZnJvbSBpc0F1dGguLiBpcyBqaGlwc3RlciB0aGluZwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgbG9hZGluZzogZmFsc2UsIGxvZ2luRXJyb3I6IGZhbHNlLCBzaG93TW9kYWxMb2dpbjogZmFsc2UsIGxvZ2luU3VjY2VzczogdHJ1ZSwgaXNBdXRoZW50aWNhdGVkOiB0cnVlLCBzZXNzaW9uSGFzQmVlbkZldGNoZWQ6IHRydWUsIGFjY291bnQ6IHsKICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXRpZXM6IFsnUk9MRV9VU0VSJywgJ1JPTEVfQURNSU4nXSwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6ICdzeXN0ZW0nLAogICAgICAgICAgICAgICAgICAgIGNyZWF0ZWREYXRlOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGVtYWlsOiAnYWRtaW5AbG9jYWxob3N0JywKICAgICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6ICdBZG1pbmlzdHJhdG9yJywKICAgICAgICAgICAgICAgICAgICBpZDogMywKICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogJycsCiAgICAgICAgICAgICAgICAgICAgbGFuZ0tleTogJ3NyJywKICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWRCeTogJ3N5c3RlbScsCiAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBsYXN0TmFtZTogJ0FkbWluaXN0cmF0b3InLAogICAgICAgICAgICAgICAgICAgIGxvZ2luOiAnYWRtaW4nLAogICAgICAgICAgICAgICAgfSB9KTsKICAgICAgICBjYXNlIEFDVElPTl9UWVBFUy5MT0dPVVQ6CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSksIHsgc2hvd01vZGFsTG9naW46IHRydWUgfSk7CiAgICAgICAgY2FzZSBTVUNDRVNTKEFDVElPTl9UWVBFUy5HRVRfU0VTU0lPTik6IHsKICAgICAgICAgICAgY29uc3QgaXNBdXRoZW50aWNhdGVkID0gYWN0aW9uLnBheWxvYWQgJiYgYWN0aW9uLnBheWxvYWQuZGF0YSAmJiBhY3Rpb24ucGF5bG9hZC5kYXRhLmFjdGl2YXRlZDsKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IGlzQXV0aGVudGljYXRlZCwgbG9hZGluZzogZmFsc2UsIHNlc3Npb25IYXNCZWVuRmV0Y2hlZDogdHJ1ZSwgYWNjb3VudDogYWN0aW9uLnBheWxvYWQuZGF0YSB9KTsKICAgICAgICB9CiAgICAgICAgY2FzZSBBQ1RJT05fVFlQRVMuRVJST1JfTUVTU0FHRToKICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlKSwgeyBzaG93TW9kYWxMb2dpbjogdHJ1ZSwgcmVkaXJlY3RNZXNzYWdlOiBhY3Rpb24ubWVzc2FnZSB9KTsKICAgICAgICBjYXNlIEFDVElPTl9UWVBFUy5DTEVBUl9BVVRIOgogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0KfTsKZXhwb3J0IGNvbnN0IGRpc3BsYXlBdXRoRXJyb3IgPSBtZXNzYWdlID0+ICh7IHR5cGU6IEFDVElPTl9UWVBFUy5FUlJPUl9NRVNTQUdFLCBtZXNzYWdlIH0pOwpleHBvcnQgY29uc3QgZ2V0U2Vzc2lvbiA9ICgpID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgewogICAgLyphd2FpdCBkaXNwYXRjaCh7CiAgICAgIHR5cGU6IEFDVElPTl9UWVBFUy5HRVRfU0VTU0lPTiwKICAgICAgcGF5bG9hZDogYXhpb3MuZ2V0KCdhcGkvYWNjb3VudCcpLAogICAgfSk7Ki8KICAgIGNvbnN0IHsgYWNjb3VudCB9ID0gZ2V0U3RhdGUoKS5hdXRoZW50aWNhdGlvbjsKICAgIGlmIChhY2NvdW50ICYmIGFjY291bnQubGFuZ0tleSkgewogICAgICAgIGNvbnN0IGxhbmdLZXkgPSBTdG9yYWdlLnNlc3Npb24uZ2V0KCdsb2NhbGUnLCBhY2NvdW50LmxhbmdLZXkpOwogICAgICAgIHlpZWxkIGRpc3BhdGNoKHNldExvY2FsZShsYW5nS2V5KSk7CiAgICB9Cn0pOwpleHBvcnQgY29uc3QgbG9naW4gPSAodXNlcm5hbWUsIHBhc3N3b3JkLCByZW1lbWJlck1lID0gZmFsc2UpID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgewogICAgLypjb25zdCByZXN1bHQgPSBhd2FpdCBkaXNwYXRjaCh7CiAgICAgIHR5cGU6IEFDVElPTl9UWVBFUy5MT0dJTiwKICAgICAgcGF5bG9hZDogYXhpb3MucG9zdCgnYXBpL2F1dGhlbnRpY2F0ZScsIHsgdXNlcm5hbWUsIHBhc3N3b3JkLCByZW1lbWJlck1lIH0pLAogICAgfSkKICAKICAgIGNvbnN0IGJlYXJlclRva2VuID0gcmVzdWx0LnZhbHVlLmhlYWRlcnMuYXV0aG9yaXphdGlvbjsqLwogICAgLy9UT0RPIGltcGxlbWVudCBlbnYKICAgIGNvbnNvbGUubG9nKHByb2Nlc3MuZW52KTsKICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIGRpc3BhdGNoKHsKICAgICAgICB0eXBlOiBBQ1RJT05fVFlQRVMuTE9HSU4sCiAgICAgICAgcGF5bG9hZDogeWllbGQgYXhpb3MucG9zdChgaHR0cHM6Ly8xNTcuOTAuMTYuMjA4L2FwaS9sb2dpbmAsIHsKICAgICAgICAgICAgbWFpbDogdXNlcm5hbWUsCiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBtZDUodXNlcm5hbWUgKyBwYXNzd29yZCArICdzaWNvbjA5MDExOTk2JyksCiAgICAgICAgfSksCiAgICB9KTsKICAgIGNvbnN0IGJlYXJlclRva2VuID0gcmVzdWx0LnBheWxvYWQuZGF0YS5kYXRhLnRva2VuOwogICAgY29uc3QgbWFpbCA9IHJlc3VsdC5wYXlsb2FkLmRhdGEuZGF0YS51c2VyLm1haWw7CiAgICBpZiAoYmVhcmVyVG9rZW4pIHsKICAgICAgICAvL2NvbnN0IGp3dCA9IGJlYXJlclRva2VuLnNsaWNlKDcsIGJlYXJlclRva2VuLmxlbmd0aCk7CiAgICAgICAgaWYgKHJlbWVtYmVyTWUpIHsKICAgICAgICAgICAgU3RvcmFnZS5sb2NhbC5zZXQoJ0F1dGhUb2tlbicsIGJlYXJlclRva2VuKTsKICAgICAgICAgICAgU3RvcmFnZS5zZXNzaW9uLnNldCgnVXNlck1haWwnLCBtYWlsKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFN0b3JhZ2Uuc2Vzc2lvbi5zZXQoJ0F1dGhUb2tlbicsIGJlYXJlclRva2VuKTsKICAgICAgICAgICAgU3RvcmFnZS5zZXNzaW9uLnNldCgnVXNlck1haWwnLCBtYWlsKTsKICAgICAgICB9CiAgICB9CiAgICAvL2F3YWl0IGRpc3BhdGNoKGdldFNlc3Npb24oKSk7Cn0pOwpleHBvcnQgY29uc3QgY2xlYXJBdXRoVG9rZW4gPSAoKSA9PiB7CiAgICBjb25zb2xlLmxvZygnY2xlYXJBdXRoVG9rZW4nKTsKICAgIGlmIChTdG9yYWdlLmxvY2FsLmdldChBVVRIX1RPS0VOX0tFWSkpIHsKICAgICAgICBTdG9yYWdlLmxvY2FsLnJlbW92ZShBVVRIX1RPS0VOX0tFWSk7CiAgICB9CiAgICBpZiAoU3RvcmFnZS5zZXNzaW9uLmdldChBVVRIX1RPS0VOX0tFWSkpIHsKICAgICAgICBTdG9yYWdlLnNlc3Npb24ucmVtb3ZlKEFVVEhfVE9LRU5fS0VZKTsKICAgIH0KfTsKZXhwb3J0IGNvbnN0IGxvZ291dCA9ICgpID0+IGRpc3BhdGNoID0+IHsKICAgIGNvbnNvbGUubG9nKCdsb2dvdXQnKTsKICAgIGNsZWFyQXV0aFRva2VuKCk7CiAgICBkaXNwYXRjaCh7CiAgICAgICAgdHlwZTogQUNUSU9OX1RZUEVTLkxPR09VVCwKICAgIH0pOwp9OwpleHBvcnQgY29uc3QgY2xlYXJBdXRoZW50aWNhdGlvbiA9IG1lc3NhZ2VLZXkgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4gewogICAgY29uc29sZS5sb2coJ2NsZWFyQXV0aGVudGljYXRpb24nKTsKICAgIGNsZWFyQXV0aFRva2VuKCk7CiAgICBkaXNwYXRjaChkaXNwbGF5QXV0aEVycm9yKG1lc3NhZ2VLZXkpKTsKICAgIGRpc3BhdGNoKHsKICAgICAgICB0eXBlOiBBQ1RJT05fVFlQRVMuQ0xFQVJfQVVUSCwKICAgIH0pOwp9Owo="},{"version":3,"file":"/Users/abc/Desktop/si/src/main/webapp/app/shared/reducers/authentication.ts","sourceRoot":"","sources":["/Users/abc/Desktop/si/node_modules/eslint-loader/dist/cjs.js!/Users/abc/Desktop/si/src/main/webapp/app/shared/reducers/authentication.ts"],"names":[],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { Storage } from 'react-jhipster';\n\nimport { REQUEST, SUCCESS, FAILURE } from 'app/shared/reducers/action-type.util';\nimport { setLocale } from 'app/shared/reducers/locale';\nimport * as https from 'https';\nimport md5 from 'md5';\nimport dotenv from 'dotenv';\n\nexport const ACTION_TYPES = {\n  LOGIN: 'authentication/LOGIN',\n  GET_SESSION: 'authentication/GET_SESSION',\n  LOGOUT: 'authentication/LOGOUT',\n  CLEAR_AUTH: 'authentication/CLEAR_AUTH',\n  ERROR_MESSAGE: 'authentication/ERROR_MESSAGE',\n};\n\nconst AUTH_TOKEN_KEY = 'jhi-authenticationToken';\n\nconst initialState = {\n  loading: false,\n  isAuthenticated: false,\n  loginSuccess: false,\n  loginError: false, // Errors returned from server side\n  showModalLogin: false,\n  account: {} as any,\n  errorMessage: (null as unknown) as string, // Errors returned from server side\n  redirectMessage: (null as unknown) as string,\n  sessionHasBeenFetched: false,\n  idToken: (null as unknown) as string,\n  logoutUrl: (null as unknown) as string,\n};\n\nexport type AuthenticationState = Readonly<typeof initialState>;\n\n// Reducer\n\nexport default (state: AuthenticationState = initialState, action): AuthenticationState => {\n  switch (action.type) {\n    case REQUEST(ACTION_TYPES.LOGIN):\n    case REQUEST(ACTION_TYPES.GET_SESSION):\n      return {\n        ...state,\n        loading: true,\n      };\n    case FAILURE(ACTION_TYPES.LOGIN):\n      return {\n        ...initialState,\n        errorMessage: action.payload,\n        showModalLogin: true,\n        loginError: true,\n      };\n    case FAILURE(ACTION_TYPES.GET_SESSION):\n      return {\n        ...state,\n        loading: false,\n        isAuthenticated: false,\n        sessionHasBeenFetched: true,\n        showModalLogin: true,\n        errorMessage: action.payload,\n      };\n    case ACTION_TYPES.LOGIN:\n      //from isAuth.. is jhipster thing\n      return {\n        ...state,\n        loading: false,\n        loginError: false,\n        showModalLogin: false,\n        loginSuccess: true,\n\n        isAuthenticated: true,\n        sessionHasBeenFetched: true,\n        account: {\n          activated: true,\n          authorities: ['ROLE_USER', 'ROLE_ADMIN'],\n          createdBy: 'system',\n          createdDate: null,\n          email: 'admin@localhost',\n          firstName: 'Administrator',\n          id: 3,\n          imageUrl: '',\n          langKey: 'sr',\n          lastModifiedBy: 'system',\n          lastModifiedDate: null,\n          lastName: 'Administrator',\n          login: 'admin',\n        },\n      };\n    case ACTION_TYPES.LOGOUT:\n      return {\n        ...initialState,\n        showModalLogin: true,\n      };\n    case SUCCESS(ACTION_TYPES.GET_SESSION): {\n      const isAuthenticated = action.payload && action.payload.data && action.payload.data.activated;\n      return {\n        ...state,\n        isAuthenticated,\n        loading: false,\n        sessionHasBeenFetched: true,\n        account: action.payload.data,\n      };\n    }\n    case ACTION_TYPES.ERROR_MESSAGE:\n      return {\n        ...initialState,\n        showModalLogin: true,\n        redirectMessage: action.message,\n      };\n    case ACTION_TYPES.CLEAR_AUTH:\n      return {\n        ...state,\n        /* loading: false,\n        showModalLogin: true,\n        isAuthenticated: false,*/\n      };\n    default:\n      return state;\n  }\n};\n\nexport const displayAuthError = message => ({ type: ACTION_TYPES.ERROR_MESSAGE, message });\n\nexport const getSession: () => void = () => async (dispatch, getState) => {\n  /*await dispatch({\n    type: ACTION_TYPES.GET_SESSION,\n    payload: axios.get('api/account'),\n  });*/\n\n  const { account } = getState().authentication;\n  if (account && account.langKey) {\n    const langKey = Storage.session.get('locale', account.langKey);\n    await dispatch(setLocale(langKey));\n  }\n};\n\nexport const login: (username: string, password: string, rememberMe?: boolean) => void = (username, password, rememberMe = false) => async (\n  dispatch,\n  getState\n) => {\n  /*const result = await dispatch({\n    type: ACTION_TYPES.LOGIN,\n    payload: axios.post('api/authenticate', { username, password, rememberMe }),\n  })\n\n  const bearerToken = result.value.headers.authorization;*/\n  //TODO implement env\n\n  console.log(process.env);\n\n  const result = await dispatch({\n    type: ACTION_TYPES.LOGIN,\n    payload: await axios.post(`https://157.90.16.208/api/login`, {\n      mail: username,\n      credentials: md5(username + password + 'sicon09011996'),\n    }),\n  });\n\n  const bearerToken = result.payload.data.data.token;\n  const mail = result.payload.data.data.user.mail;\n  if (bearerToken) {\n    //const jwt = bearerToken.slice(7, bearerToken.length);\n    if (rememberMe) {\n      Storage.local.set('AuthToken', bearerToken);\n      Storage.session.set('UserMail', mail);\n    } else {\n      Storage.session.set('AuthToken', bearerToken);\n      Storage.session.set('UserMail', mail);\n    }\n  }\n\n  //await dispatch(getSession());\n};\n\nexport const clearAuthToken = () => {\n  console.log('clearAuthToken');\n  if (Storage.local.get(AUTH_TOKEN_KEY)) {\n    Storage.local.remove(AUTH_TOKEN_KEY);\n  }\n  if (Storage.session.get(AUTH_TOKEN_KEY)) {\n    Storage.session.remove(AUTH_TOKEN_KEY);\n  }\n};\n\nexport const logout: () => void = () => dispatch => {\n  console.log('logout');\n  clearAuthToken();\n  dispatch({\n    type: ACTION_TYPES.LOGOUT,\n  });\n};\n\nexport const clearAuthentication = messageKey => (dispatch, getState) => {\n  console.log('clearAuthentication');\n  clearAuthToken();\n  dispatch(displayAuthError(messageKey));\n  dispatch({\n    type: ACTION_TYPES.CLEAR_AUTH,\n  });\n};\n"]}]}